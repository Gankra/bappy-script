---
source: src/tests/cfg_snaps.rs
assertion_line: 56
expression: cfg

---
#struct0_Point {
  x: Int
  y: Int
}

[intrinsic] #fn0_add(lhs, rhs)
[intrinsic] #fn1_sub(lhs, rhs)
[intrinsic] #fn2_mul(lhs, rhs)
[intrinsic] #fn3_eq(lhs, rhs)
[intrinsic] #fn4_not(rhs)

#fn5_main():
  bb0():
    %0 = Int(2)
    %1 = Int(7)
    %2 = #struct0_Point{ 0: %0, 1: %1 }
    %3 = (%2,)
    %4 = heap_alloc()
    %4.* = %3
    %5 = [closure](#fn6_captures, %4)
    %6 = (%5,)
    %7 = heap_alloc()
    %7.* = %6
    %8 = [closure](#fn8_calls_funcs, %7)
    %9 = #fn7_no_captures
    %10 = Int(2)
    %11 = (%5)(%10)
    print %11
    %12 = Int(3)
    %13 = (%5)(%12)
    print %13
    %14 = #fn7_no_captures
    %15 = Int(6)
    %16 = (%14)(%15)
    print %16
    %17 = Int(7)
    %18 = (%9)(%17)
    print %18
    %19 = (%8)()
    print %19
    %20 = Int(1)
    %21 = Bool(true)
    %22 = (%20, %21)
    %23 = %22.1
    cond %23: bb1(), bb2()

  bb1():
    %24 = #fn0_add
    %25 = Int(1)
    %26 = #fn0_add
    %27 = Int(2)
    %28 = (%26)(%20, %27)
    %29 = (%24)(%25, %28)
    print %29
    jmp bb3()

  bb2():
    jmp bb3()

  bb3():
    %30 = Int(0)
    ret %30


#fn6_captures(%0_arg: Int, %5_[closure]: &(Point,)):
  bb0(%0, %5):
    %2 = %5.*.0
    %1 = #fn0_add
    %3 = %2.1
    %4 = (%1)(%0, %3)
    ret %4


#fn7_no_captures(%0_arg: Int):
  bb0(%0):
    %1 = #fn0_add
    %2 = (%1)(%0, %0)
    ret %2


#fn8_calls_funcs(%8_[closure]: &(fn (Int) -> Int,)):
  bb0(%8):
    %0 = %8.*.0
    %1 = Int(23)
    %2 = (%0)(%1)
    %3 = #fn7_no_captures
    %4 = Int(29)
    %5 = (%3)(%4)
    %6 = #fn0_add
    %7 = (%6)(%2, %5)
    ret %7


